spring:
  application:
    name: product-utils
  cloud:
    config:
      fail-fast: true
      enabled: true
      discovery:
        enabled: true
        service-id: configServer
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8089/eureka
  instance:
    hostname: localhost
health:
  config:
    enabled: false
---
spring:
  config:
    activate:
      on-profile: standalone
  cloud:
    config:
      fail-fast: true
      enabled: false
      discovery:
        enabled: false
eureka:
  client:
    enabled: false

---
spring:
  config:
    activate:
      on-profile: ikp, aws

eureka:
  client:
    service-url:
      defaultZone: ${DISCOVERY_SERVER_ADDRESS} # get from env
  instance:
    hostname: ${HOSTNAME} # provided by env
    prefer-ip-address: true
    instanceId:  ${spring.application.name}:${eureka.instance.hostname}:${random.uuid}

---
spring:
  config:
    activate:
      on-profile: aws-ecs
  application:
    name: smart-utils
  cloud:
    config:
      fail-fast: true
      enabled: true
      discovery:
        enabled: false
      label: ${CONFIG_BRANCH}
      name: ${CONFIG_FILE_NAME}
      uri: ${CONFIG_SERVER_ADDRESS}
eureka:
  client:
    enabled: false

encrypt:
  key: ${ENCRYPT_KEY}
